{
  "name": "auth",
  "routes": {
    "register": {
      "title": "Join Now",
      "icon": "account_circle",
      "action": true,
      "alwaysShowIcon": true,
      "guestOnly": true,
      "path": "/register",
      "recaptchaKey": "",
      "cover": {
        "backgroundColor": "#00838F",
        "align": "bottom",
        "opacity": 0.5,
        "image": "auth-cover.r.png",
        "navigation": true,
        "title": "Join the revolution",
        "type": "simple"
      },
      "startOperationsOnMount": false,
      "operations": {
        "register": [
          "firebase://register#register",
          {
            "onSuccess": "setup",
            "onError": "registerError"
          }
        ],
        "setup": [
          "rest://create/auth/setup#setup",
          {
            "onSuccess": "registerOk",
            "onError": "registerError"
          }
        ]
      }
    },
    "login": {
      "title": "Account",
      "icon": "account_circle",
      "alwaysShowIcon": true,
      "guestOnly": true,
      "path": "/login",
      "cover": {
        "backgroundColor": "#00838F",
        "align": "bottom",
        "opacity": 0.5,
        "image": "auth-cover.r.png",
        "navigation": true,
        "title": "Welcome back",
        "type": "simple"
      },
      "startOperationsOnMount": false,
      "operations": {
        "login": [
          "firebase://login",
          {
            "onSuccess": "loginOk",
            "onError": "loginError"
          }
        ],
        "getProfile": [
          "firebase://retrieve/users-profiles/:userId?latest=1&resolve=profiles#getProfile",
          {
            "onSuccess": "profileOk",
            "onError": "loginError"
          }
        ],
        "getAccount": [
          "firebase://retrieve/users/:userId?latest=1#getAccount",
          {
            "onSuccess": "accountOk",
            "onError": "accountError"
          }
        ]
      }
    },
    "reset": {
      "title": "Account",
      "icon": "account_circle",
      "alwaysShowIcon": true,
      "path": "/reset",
      "cover": {
        "backgroundColor": "#00838F",
        "align": "bottom",
        "opacity": 0.5,
        "image": "auth-cover.r.png",
        "navigation": true,
        "title": "Get back into your account",
        "type": "simple"
      },
      "startOperationsOnMount": false,
      "operations": {
        "reset": [
          "firebase://reset",
          {
            "onSuccess": "resetOk",
            "onError": "resetError"
          }
        ]
      }
    },
    "account": {
      "title": "Account",
      "icon": "user",
      "alwaysShowIcon": true,
      "private": true,
      "path": "/me",
      "cover": {
        "backgroundColor": "#00838F",
        "navigation": true,
        "type": "menu"
      },
      "startOperationsOnMount": false,
      "operations": {
        "getUserProfile": [
          "firebase://retrieve/users-profiles/:userId?latest=1&resolve=profiles#getProfile",
          {
            "onSuccess": "profileOk",
            "onError": "profileError"
          }
        ],
        "reset": [
          "firebase://reset",
          {
            "onSuccess": "accountOk",
            "onError": "okError"
          }
        ],
        "getAccount": "firebase://subscribe/users/:userId?#getAccount",
        "getProfile": "firebase://subscribe/users-profiles/:userId?latest=1&resolve=profiles#getProfile"
      },
      "subscriptions": [
        "getAccount",
        "getProfile"
      ]
    },
    "profile": {
      "title": "Profile",
      "icon": "user",
      "alwaysShowIcon": true,
      "path": "/profile",
      "cover": {
        "backgroundColor": "#00838F",
        "navigation": true,
        "type": "menu"
      },
      "startOperationsOnMount": false,
      "operations": {
        "refreshProfile": [
          "firebase://retrieve/users-profiles/:userId?latest=1&resolve=profiles#getProfile",
          {
            "onSuccess": "profileSuccess",
            "onError": "profileError"
          }
        ]
      }
    }
  },
  "service": {
    "functions": [
      "post://setup#setup",
      "post://update#updateProfile"
    ],
    "dependencies": {
    },
    "requiredFields": {
    },
    "permissions": {
      "setup": [
        "ses:SendEmail"
      ]
    },
    "schedule": {}
  }
}
